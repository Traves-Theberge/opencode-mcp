# OpenCode MCP Server - Windsurf Rules

This project follows the same rules as defined in `.cursorrules`. Key points:

## Quick Reference

### Build & Test
```bash
npm run build       # Compile TypeScript
npm run lint        # Run ESLint
npm run test:smoke  # Run smoke tests
```

### Architecture
- MCP server exposing OpenCode as tools
- 23 tools across 7 categories (Execution, Files, Config, Agents, Skills, MCP, Tools)
- Hybrid config persistence (API + file)
- Zod v4 for validation

### Code Style
- TypeScript strict mode
- Use `.js` extensions in imports
- Preserve caught errors with `{ cause: error }`
- Use `createErrorResponse()` for errors

### File Structure
```
src/server/tools/    # Tool implementations by category
src/client/          # OpenCode SDK wrapper
src/utils/           # Config, types, utilities
tests/               # Vitest tests (smoke, integration)
```

See `.cursorrules` for complete guidelines.
